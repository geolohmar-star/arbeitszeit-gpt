{% extends "base.html" %}
{% block title %}Organigramm{% endblock %}
{% block content %}
<div class="container-fluid mt-4">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">ğŸ¢ Organigramm</h2>
        <div>
            <a href="{% url 'hr:company_builder' %}" class="btn btn-outline-primary btn-sm me-2">
                ğŸ—ï¸ Company Builder
            </a>
            <a href="{% url 'hr:liste' %}" class="btn btn-outline-secondary btn-sm">
                ğŸ‘¥ Mitarbeiterliste
            </a>
        </div>
    </div>

    <!-- Rekursives Rendern der Hierarchie -->
    {% for orgeinheit in root_orgeinheiten %}
        {% include 'hr/partials/_organigramm_orgeinheit.html' with orgeinheit=orgeinheit level=0 %}
    {% empty %}
        <div class="alert alert-info">
            <p class="mb-0">Keine Organisationsstruktur vorhanden.</p>
            <p class="mb-0 mt-2">
                <a href="{% url 'hr:company_builder' %}" class="alert-link">
                    â†’ Company Builder Ã¶ffnen
                </a>
            </p>
        </div>
    {% endfor %}

</div>

<style>
.orgeinheit-card {
    border-left: 4px solid #0d6efd;
    transition: all 0.2s ease;
}

.orgeinheit-card:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.stelle-item {
    cursor: pointer;
    transition: all 0.2s ease;
}

.stelle-item:hover {
    background-color: #f8f9fa;
    transform: translateX(4px);
}

.mitarbeiter-badge {
    cursor: pointer;
}

.mitarbeiter-badge:hover {
    transform: scale(1.05);
}

.level-0 { margin-left: 0; }
.level-1 { margin-left: 20px; }
.level-2 { margin-left: 40px; }
.level-3 { margin-left: 60px; }
</style>
{% endblock %}
