{% extends "base.html" %}

{% block title %}{{ mitarbeiter.vollname }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row mb-4">
        <div class="col">
            <h1>üë§ {{ mitarbeiter.vollname }}</h1>
        </div>
        <div class="col-auto">
            <a href="{% url 'schichtplan:mitarbeiter_uebersicht' %}" class="btn btn-secondary">
                ‚Üê Zur√ºck
            </a>
        </div>
    </div>

    <div class="card">
        <div class="card-header" style="background: #1a4d2e; color: white;">
            <h5 class="mb-0">Pers√∂nliche Daten</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Vorname:</strong> {{ mitarbeiter.vorname }}</p>
                    <p><strong>Nachname:</strong> {{ mitarbeiter.nachname }}</p>
                    <p><strong>Personalnummer:</strong> {{ mitarbeiter.personalnummer }}</p>
                    <p><strong>Email:</strong> {{ mitarbeiter.email }}</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Abteilung:</strong> {{ mitarbeiter.abteilung }}</p>
                    <p><strong>Standort:</strong> {{ mitarbeiter.standort.name }}</p>
                    <p><strong>Rolle:</strong> {{ mitarbeiter.get_rolle_display }}</p>
                    <p><strong>Status:</strong> 
                        {% if mitarbeiter.aktiv %}
                            <span class="badge bg-success">Aktiv</span>
                        {% else %}
                            <span class="badge bg-secondary">Inaktiv</span>
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="card mt-3">
        <div class="card-header" style="background: #1a4d2e; color: white;">
            <h5 class="mb-0">Schichtplan-Pr√§ferenzen</h5>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                
                <div class="mb-3">
                    <label class="form-label">Schichtplan-Kennung</label>
                    <input type="text" class="form-control" name="schichtplan_kennung" 
                           value="{{ mitarbeiter.schichtplan_kennung }}"
                           placeholder="z.B. MA1, MA2, MA3...">
                    <small class="text-muted">
                        F√ºr Excel-Import (Spalte 3 = MA1, Spalte 4 = MA2, etc.)
                    </small>
                </div>

                <div class="mb-3">
                    <label>
                        <input type="checkbox" name="kann_tagschicht" 
                               {% if mitarbeiter.kann_tagschicht %}checked{% endif %}>
                        Kann Tagschicht arbeiten
                    </label>
                </div>

                <div class="mb-3">
                    <label>
                        <input type="checkbox" name="kann_nachtschicht"
                               {% if mitarbeiter.kann_nachtschicht %}checked{% endif %}>
                        Kann Nachtschicht arbeiten
                    </label>
                </div>

                <button type="submit" class="btn btn-success">
                    üíæ Speichern
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}